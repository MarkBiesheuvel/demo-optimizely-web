<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Demo Optimizely Web</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta name="theme-color" content="#343a40">
    <script src="optimizely.js"></script>
    <!-- Segment.io integration -->
    <script>
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="xEfmzqtD8eOaKYE7NcILEEsstubAUhU1";;analytics.SNIPPET_VERSION="4.15.3";
      analytics.load("xEfmzqtD8eOaKYE7NcILEEsstubAUhU1");
      analytics.page();
      }}();
    </script>
  </head>
  <body>

    <nav class="py-2 bg-light border-bottom">
      <div class="container d-flex flex-wrap">
        <ul class="nav me-auto">
          <li class="nav-item"><a href="/" class="nav-link link-dark px-2">Home</a></li>
          <li class="nav-item"><a href="/custom-event.html" class="nav-link link-dark px-2">Custom event</a></li>
          <li class="nav-item"><a href="/extensions.html" class="nav-link link-dark px-2">Extensions</a></li>
          <li class="nav-item"><a href="/personalization.html" class="nav-link link-dark px-2">Personalization campaign</a></li>
          <li class="nav-item"><a href="/flash-of-content.html" class="nav-link link-dark px-2">Flash of content</a></li>
          <li class="nav-item"><a href="/hold-events.html" class="nav-link link-dark px-2">Hold & send events</a></li>
          <li class="nav-item"><a href="/analytics-integration.html" class="nav-link link-dark px-2">Analytics Integration</a></li>
          <li class="nav-item"><a href="/segment-integration.html" class="nav-link link-dark px-2 active">Segment Integration</a></li>
        </ul>
      </div>
    </nav>

    <header class="py-3 mb-4 border-bottom">
      <div class="container d-flex flex-wrap justify-content-center">
        <span class="d-flex align-items-center mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none fs-4">
          Demo Optimizely Web
        </span>
      </div>
    </header>

    <div class="p-4 my-4 text-center">
      <h1 class="display-5 fw-bold">Segment Integration</h1>
      <div class="col-lg-6 mx-auto">
        <p class="lead mb-4">
            TODO: write description of integration
        </p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
          <script>
            window.track = () => {
              analytics.track('segment_event', {
                channel: 'web',
                value: Math.round(Math.random()*100),
              });
            }
            window.identify = () => {
              analytics.identify('user123');
            }
          </script>
          <button type="button" id="track" class="btn btn-success btn-lg px-4 gap-3" onclick="track();">
            Segment Event
          </button>
          <button type="button" id="identify" class="btn btn-dark btn-lg px-4 gap-3" onclick="identify();">
            Segment Identify
          </button>
        </div>
      </div>
    </div>

  </body>
</html>